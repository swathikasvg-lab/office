<div class="modal fade" id="reportModal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content shadow-lg border-0 rounded-4">

      <div class="modal-header border-0 pb-0">
        <h4 class="modal-title fw-semibold text-dark" id="reportTitle"></h4>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body px-4">

        <form id="reportForm" method="POST" action="/reports/run" class="mt-3">

          <input type="hidden" id="report_id" name="report_id">

          <div class="row g-3">

            <!-- From -->
            <div class="col-md-6">
              <label class="form-label fw-semibold">From</label>
              <input type="datetime-local" required name="from" class="form-control form-control-lg">
            </div>

            <!-- To -->
            <div class="col-md-6">
              <label class="form-label fw-semibold">To</label>
              <input type="datetime-local" required name="to" class="form-control form-control-lg">
            </div>

            <!-- Report Format -->
            <div class="col-md-6">
              <label class="form-label fw-semibold">Report Type</label>
              <select name="format" class="form-select form-select-lg">
                <option value="pdf">PDF</option>
                <option value="excel">Excel</option>
              </select>
            </div>

            <!-- Customer (default visible, except report 1004/1007) -->
            <div class="col-md-6" id="customerBox">
              <label class="form-label fw-semibold">Customer</label>
              <select id="customerSelect" name="customer" class="form-select form-select-lg">
                <option value="ALL">ALL</option>
              </select>
            </div>

            <!-- Template Type - used only for Report 1005 -->
            <div class="col-md-6" id="templateBox" style="display:none;">
              <label class="form-label fw-semibold">Template Type</label>
              <select id="templateSelect" name="template_type" class="form-select form-select-lg"></select>
            </div>

            <!-- Device Name - used only for Report 1005 -->
            <div class="col-md-6" id="deviceBox" style="display:none;">
              <label class="form-label fw-semibold">Device Name</label>
              <select id="deviceSelect" name="device_name" class="form-select form-select-lg"></select>
            </div>

            <!-- Instance / Server / Interface / Port -->
            <div class="col-12" id="interfaceBox">
              <label class="form-label fw-semibold" id="instanceLabel">
                Select Server / Interface
              </label>
              <select name="instance" id="instancesDropdown" class="form-select form-select-lg">
                <option value="ALL">ALL</option>
              </select>
            </div>

          </div>

          <div class="d-flex justify-content-end mt-4">
            <button class="btn btn-success btn-lg rounded-3 px-4">
              <i class="bi bi-file-earmark-bar-graph"></i> Generate
            </button>
          </div>

        </form>

      </div>

    </div>
  </div>
</div>

<style>
  #reportModal .modal-content {
    animation: fadeIn 0.25s ease-out;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>

